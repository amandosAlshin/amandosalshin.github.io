(this.webpackJsonpmonitoring_area=this.webpackJsonpmonitoring_area||[]).push([[0],{104:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),i=a.n(l),c=(a(99),a(52)),o=a(33),u=a(17),d=a(53),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CAPTION":return[].concat(Object(d.a)(e),[{isDragging:t.isDragging,id:t.id,x:t.x,y:t.y,text:t.text,completed:!1,delete:!1}]);case"SET_CAPTION":return e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{x:t.x,y:t.y,isDragging:t.isDragging}):e}));case"DELETE_CAPTION":return e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{delete:!0}):e}));default:return e}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TABLE":return[].concat(Object(d.a)(e),[{employeeId:t.employeeId,id:t.id,name:t.name,x:10,y:10,width:100,height:100,delete:!1}]);case"SET_TABLE":return e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{employeeId:t.employeeId,id:t.id,x:t.x,y:t.y,width:t.width,height:t.height}):e}));case"DELETE_TABLE":return e.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{delete:!0}):e}));default:return e}},g=Object(o.b)({captions:m,tables:s}),p=Object(o.c)(g),E=0,f=0,h=a(20),b=(a(104),a(199)),x=a(195),y=a(203),v=a(197),O=a(198),C=a(151),T=a(206),S=a(188),j=a(196),D=a(205),w=a(194),k=a(193),I=a(192),A=function(e){var t=e.onAddCaption,a=r.a.useState(!1),n=Object(h.a)(a,2),l=n[0],i=n[1],c=r.a.useState(""),o=Object(h.a)(c,2),u=o[0],d=o[1],m=function(){i(!1),d("")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{onClick:function(){i(!0)},variant:"contained",color:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442"),r.a.createElement(D.a,{open:l,onClose:m,"aria-labelledby":"form-dialog-title"},r.a.createElement(I.a,{id:"form-dialog-title"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442"),r.a.createElement(k.a,null,r.a.createElement(y.a,{id:"outlined-multiline-flexible",label:"\u0422\u0435\u043a\u0441\u0442",variant:"outlined",InputLabelProps:{shrink:!0},fullWidth:!0,onChange:function(e){return d(e.target.value)},value:u})),r.a.createElement(w.a,null,r.a.createElement(S.a,{onClick:m,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(S.a,{onClick:function(){t(u),m()},color:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))))},L=[{id:1102,name:"Amandos Daulet"},{id:1103,name:"Ospan Bagdaulet"},{id:1104,name:"Kunikiev Kanat"},{id:1105,name:"Berdikul Nurkhan"}],B=function(e){var t=e.onAddTable,a=r.a.useState(1104),n=Object(h.a)(a,2),l=n[0],i=n[1],c=r.a.useState(!1),o=Object(h.a)(c,2),u=o[0],d=o[1],m=r.a.useState(!1),s=Object(h.a)(m,2),g=s[0],p=s[1],E=function(){d(!1),p()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{onClick:function(){d(!0)},variant:"contained",color:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b"),r.a.createElement(D.a,{open:u,onClose:E,"aria-labelledby":"form-dialog-title"},r.a.createElement(I.a,{id:"form-dialog-title"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442"),r.a.createElement(k.a,null,r.a.createElement(x.a,{container:!0,spacing:2},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(y.a,{id:"outlined-multiline-flexible",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},onChange:function(e){return p(e.target.value)},value:g||""})),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(y.a,{id:"outlined-multiline-flexible",label:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a",select:!0,value:l,variant:"outlined",onChange:function(e){i(e.target.value)},InputLabelProps:{shrink:!0}},L.map((function(e){return r.a.createElement(T.a,{key:e.id,value:e.id},e.name)})))))),r.a.createElement(w.a,null,r.a.createElement(S.a,{onClick:E,color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(S.a,{onClick:function(){t({employeeId:l,name:g}),E()},color:"primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))))},P=a(23),_=a(79),N=a.n(_),F=function(e){var t=e.shapeProps,a=e.isSelected,n=e.onSelect,l=e.onChange,i=r.a.useRef(),c=r.a.useRef();r.a.useEffect((function(){a&&(c.current.nodes([i.current]),c.current.getLayer().batchDraw())}),[a]);var o=N()("img/table.png"),d=Object(h.a)(o,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.Image,Object.assign({onClick:n,image:d,onTap:n,ref:i},t,{draggable:!0,onDragEnd:function(e){l(Object(u.a)(Object(u.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var a=i.current,n=a.scaleX(),r=a.scaleY();a.scaleX(1),a.scaleY(1),l(Object(u.a)(Object(u.a)({},t),{},{x:a.x(),y:a.y(),width:Math.max(5,a.width()*n),height:Math.max(a.height()*r)}))}})),a&&r.a.createElement(P.Transformer,{ref:c,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}}))},M=function(e){var t=e.data,a=e.setTable,n=e.selectedId,l=e.selectShape;return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return!1===e.delete&&r.a.createElement(F,{key:t,shapeProps:e,isSelected:e.id===n,onSelect:function(){l(e.id)},onChange:function(e){a(e)}})})))},W=function(e){var t=e.shapeProps,a=e.x,n=e.y,l=e.isDragging,i=e.text,c=e.dragStart,o=e.dragEnd,d=e.id,m=e.onSelect,s=e.isSelected,g=e.onChange,p=r.a.useRef(),E=r.a.useRef();return r.a.useEffect((function(){s&&(E.current.nodes([p.current]),E.current.getLayer().batchDraw())}),[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(P.Text,Object.assign({onClick:m,text:i,ref:p,onTap:m,x:a,y:n},t,{draggable:!0,fill:l?"green":"black",dragStart:function(){c({x:a,y:n,id:d,text:i})},onDragEnd:function(e){o({x:e.target.x(),y:e.target.y(),id:d,text:i})},onTransformEnd:function(e){var a=p.current,n=a.scaleX(),r=a.scaleY();a.scaleX(1),a.scaleY(1),g(Object(u.a)(Object(u.a)({},t),{},{x:a.x(),y:a.y(),width:Math.max(5,a.width()*n),height:Math.max(a.height()*r)}))}})),s&&r.a.createElement(P.Transformer,{ref:E,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}}))},z=function(e){var t=e.data,a=e.setCaption,n=e.selectShape,l=e.selectedId,i=function(e,t,n,r,l){a({isDragging:!0,x:t,y:n,id:r})},c=function(e,t,n,r,l){a({isDragging:!1,x:t,y:n,id:r})};return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return!1===e.delete&&r.a.createElement(W,{key:t,x:e.x,y:e.y,isDragging:e.isDragging,text:e.text,dragStart:i,dragEnd:c,id:e.id,onSelect:function(){n(e.id)},onChange:function(e){a(e)},isSelected:e.id===l,shapeProps:e})})))},R=a(200),X=a(202),Y=a(201),J=[{value:"1003",label:"\u0411\u0430\u0437\u0430\u0440-\u041a\u043e\u0440\u0433\u043e\u043d\u0441\u043a\u0438\u0439"},{value:"1004",label:"\u0411\u0430\u043b\u044b\u043a\u0447\u0438\u043d\u0441\u043a\u0438\u0439"},{value:"1005",label:"\u0414\u043e\u0440\u0434\u043e\u0439\u0441\u043a\u0438\u0439"},{value:"1006",label:"\u041a\u0430\u0434\u0430\u043c\u0436\u0430\u0439\u0441\u043a\u0438\u0439"}],K=Object(j.a)((function(e){return{root:{display:"flex","& .MuiTextField-root":{margin:e.spacing(1),width:"100%"},"& > *":{margin:e.spacing(1)}},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #e4e4e4",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},appBar:{zIndex:e.zIndex.drawer+1},content:{flexGrow:1,padding:e.spacing(3)}}}));var G=function(e){var t=e.captions,a=e.tables,n=e.onAddTable,l=e.onSetTable,i=e.onAddCaption,c=e.onSetCaption,o=e.onDeleteTable,u=e.onDeleteCaption,d=K(),m=r.a.useState("1004"),s=Object(h.a)(m,2),g=s[0],p=s[1],E=r.a.useState(null),f=Object(h.a)(E,2),j=f[0],D=f[1],w=r.a.useState(null),k=Object(h.a)(w,2),I=k[0],L=k[1],_=r.a.useState(null),N=Object(h.a)(_,2),F=N[0],W=N[1],G=r.a.useState(null),V=Object(h.a)(G,2),$=V[0],q=V[1],H=function(e){e.target===e.target.getStage()&&(D(null),L(null),q(null),W(null))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:d.root},r.a.createElement(v.a,{position:"fixed",className:d.appBar},r.a.createElement(O.a,null,r.a.createElement(C.a,{variant:"h6",noWrap:!0},"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433"))),r.a.createElement("main",{className:d.content},r.a.createElement(O.a,null),r.a.createElement(b.a,{maxWidth:"xl"},r.a.createElement(x.a,{container:!0,spacing:2},r.a.createElement(x.a,{item:!0,xs:8},r.a.createElement("div",{className:"area"},r.a.createElement(P.Stage,{width:1e3,height:600,onMouseDown:H,onTouchStart:H},r.a.createElement(P.Layer,null,r.a.createElement(M,{data:a,setTable:l,selectedId:j,selectShape:function(e){D(e),a.map((function(t){return t.id===e&&(W(t),!0)}))}}),r.a.createElement(z,{setCaption:c,data:t,selectShape:function(e){L(e),t.map((function(t){return t.id===e&&(q(t),!0)}))},selectedId:I}))))),r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement("form",{className:d.root,noValidate:!0,autoComplete:"off"},r.a.createElement(x.a,{container:!0,spacing:2},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(y.a,{id:"outlined-multiline-flexible",label:"\u041e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u0435",select:!0,value:g,variant:"outlined",onChange:function(e){p(e.target.value)},InputLabelProps:{shrink:!0}},J.map((function(e){return r.a.createElement(T.a,{key:e.value,value:e.value},e.label)})))),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement("div",{className:d.root},a.map((function(e,t){return r.a.createElement(S.a,{key:t,variant:"outlined"},e.name)})))),r.a.createElement(x.a,{item:!0,xs:5},r.a.createElement(B,{onAddTable:n})),r.a.createElement(x.a,{item:!0,xs:5},r.a.createElement(A,{onAddCaption:i})),r.a.createElement(x.a,{item:!0,xs:12},null!=F&&r.a.createElement(R.a,null,r.a.createElement(Y.a,null,r.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},F.name),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a: ",F.employeeId)),r.a.createElement(X.a,null,r.a.createElement(S.a,{onClick:function(){return o(F.id)},size:"small",color:"primary"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),null!=$&&r.a.createElement(R.a,null,r.a.createElement(Y.a,null,r.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},$.text)),r.a.createElement(X.a,null,r.a.createElement(S.a,{onClick:function(){return u($.id)},size:"small",color:"primary"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))))))))))},V=Object(c.b)((function(e,t){return{captions:e.captions,tables:e.tables}}),(function(e){return{onAddTable:function(t){return e({type:"ADD_TABLE",name:(a=t).name,employeeId:a.employeeId,id:f++});var a},onSetTable:function(t){return e({type:"SET_TABLE",employeeId:(a=t).employeeId,id:a.id,x:a.x,y:a.y,width:a.width,height:a.height});var a},onAddCaption:function(t){return e({type:"ADD_CAPTION",isDragging:!1,x:50,y:50,id:E++,text:t})},onSetCaption:function(t){return e({type:"SET_CAPTION",id:(a=t).id,x:a.x,y:a.y,isDragging:a.isDragging});var a},onDeleteTable:function(t){return e({type:"DELETE_TABLE",id:t})},onDeleteCaption:function(t){return e({type:"DELETE_CAPTION",id:t})}}}))(G),$=function(){return r.a.createElement("div",null,r.a.createElement(V,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(c.a,{store:p},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,t,a){e.exports=a(150)},99:function(e,t,a){}},[[95,1,2]]]);
//# sourceMappingURL=main.640ce92b.chunk.js.map